{% extends "layout.html" %}

{% block title %}
    Apple Products
{% endblock %}

{% block main %}  
    <div class="container">
        <h1 class="my-4">Apple Products</h1>

        {% if categorized_products %}
            {% for category, products in categorized_products.items() %}
                <h2 class="my-4">{{ category }}</h2>
                <div class="product-grid">
                    {% for product in products %}
                        <div class="product">
                            <div class="product-image">
                                <img src="{{ product['image_url'] }}" alt="{{ product['product_name'] }}">
                            </div>
                            <div class="product-details">
                                <h3>{{ product['product_name'] }}</h3>
                                <p class="product-price">${{ '%.2f' | format(product['product_price']) }}</p>
                            </div>
                            <div class="product-actions">
                                <button type="button" class="add-to-cart-btn" data-product-id="{{ product['id'] }}">
                                    Add to Cart
                                </button>
                                <button type="button" class="add-to-wishlist-btn btn btn-outline-secondary" data-product-id="{{ product['id'] }}">
                                    Add to Wishlist
                                </button>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        {% else %}
            <p>No Apple products available. <a href="/">Return to the homepage to browse more products.</a></p>
        {% endif %}
    </div>
{% endblock %}
